---
title: "Performance"
toc: true
---

The following tables summarizes the resources SPC needs to run in different areas.

|       study_area       |num_msoas|num_households|num_people|pb_file_size|  runtime |commuting_runtime|memory_usage|
|------------------------|---------|--------------|----------|------------|----------|-----------------|------------|
|      bedfordshire      |    74   |    271,487   |  650,950 | 170.48 MiB | 8 seconds|    4 seconds    | 383.82 MiB |
|        berkshire       |   107   |    363,653   |  878,045 | 231.00 MiB |10 seconds|    5 seconds    | 393.82 MiB |
|       birmingham       |   132   |    88,364    | 1,086,773| 276.37 MiB |11 seconds|    4 seconds    | 699.61 MiB |
|         bristol        |    55   |    196,230   |  456,532 | 121.40 MiB | 4 seconds|     1 second    | 198.60 MiB |
|     buckinghamshire    |    99   |    324,843   |  759,879 | 198.80 MiB | 7 seconds|    3 seconds    | 389.18 MiB |
|     cambridgeshire     |    98   |    346,532   |  834,141 | 219.92 MiB | 9 seconds|    5 seconds    | 393.08 MiB |
|        cheshire        |   139   |    463,106   | 1,040,634| 275.56 MiB |11 seconds|    4 seconds    | 401.34 MiB |
|        cornwall        |    74   |    246,873   |  564,604 | 148.79 MiB | 5 seconds|    2 seconds    | 366.08 MiB |
|         cumbria        |    64   |    224,779   |  485,035 | 128.26 MiB | 6 seconds|    2 seconds    | 199.55 MiB |
|       derbyshire       |   131   |    457,791   | 1,024,952| 270.64 MiB |12 seconds|    6 seconds    | 400.53 MiB |
|          devon         |   156   |    521,790   | 1,178,315| 311.14 MiB |14 seconds|    7 seconds    | 734.48 MiB |
|         dorset         |    95   |    344,246   |  751,334 | 198.53 MiB | 7 seconds|    3 seconds    | 390.67 MiB |
|         durham         |   117   |    406,164   |  904,785 | 237.20 MiB | 7 seconds|    2 seconds    | 393.73 MiB |
|       east_sussex      |   102   |    380,180   |  830,761 | 218.59 MiB | 8 seconds|    4 seconds    | 392.68 MiB |
|east_yorkshire_with_hull|    75   |    261,267   |  579,746 | 153.87 MiB | 5 seconds|     1 second    | 367.76 MiB |
|          essex         |   211   |    771,734   | 1,798,893| 472.28 MiB |25 seconds|    17 seconds   | 788.39 MiB |
|     gloucestershire    |   107   |    392,120   |  901,395 | 238.75 MiB |10 seconds|    4 seconds    | 396.16 MiB |
|     greater_london     |   983   |   2,970,319  | 8,672,103|  2.23 GiB  | 8 minutes|    7 minutes    |  5.70 GiB  |
|   greater_manchester   |   346   |    871,651   | 2,746,858| 715.11 MiB |71 seconds|    60 seconds   |  1.44 GiB  |
|        hampshire       |   225   |    775,203   | 1,803,991| 474.98 MiB |30 seconds|    21 seconds   | 789.65 MiB |
|      herefordshire     |    23   |    83,115    |  191,282 |  50.48 MiB | 3 seconds|     1 second    |  97.84 MiB |
|      hertfordshire     |   153   |    476,641   | 1,144,974| 300.12 MiB |14 seconds|    8 seconds    | 733.37 MiB |
|      isle_of_wight     |    18   |    64,602    |  135,125 |  36.16 MiB | 2 seconds|     1 second    |  92.23 MiB |
|          kent          |   220   |    692,896   | 1,808,206| 472.05 MiB |21 seconds|    13 seconds   | 787.29 MiB |
|       lancashire       |   191   |    597,317   | 1,472,550| 385.64 MiB |16 seconds|    9 seconds    | 774.80 MiB |
|     leicestershire     |   120   |    417,621   | 1,043,283| 272.84 MiB |12 seconds|    8 seconds    | 398.35 MiB |
|      lincolnshire      |   134   |    434,060   | 1,064,174| 278.34 MiB | 9 seconds|    4 seconds    | 727.67 MiB |
|        liverpool       |    61   |    218,559   |  494,999 | 129.61 MiB | 6 seconds|    2 seconds    | 198.50 MiB |
|       manchester       |    57   |    88,488    |  541,974 | 138.95 MiB |12 seconds|    6 seconds    | 354.03 MiB |
|       merseyside       |   184   |    546,791   | 1,401,012| 366.60 MiB |18 seconds|    12 seconds   | 772.20 MiB |
|         norfolk        |   110   |    379,188   |  891,006 | 235.73 MiB | 8 seconds|    3 seconds    | 396.11 MiB |
|     north_yorkshire    |   138   |    434,489   | 1,069,514| 280.92 MiB |10 seconds|    5 seconds    | 729.02 MiB |
|    northamptonshire    |    91   |    293,580   |  733,190 | 192.53 MiB | 7 seconds|    3 seconds    | 388.60 MiB |
|     northumberland     |    40   |    113,436   |  316,618 |  83.48 MiB | 3 seconds|     1 second    | 184.69 MiB |
| northwest_transpennine |   829   |   1,919,598  | 6,419,933|  1.64 GiB  | 5 minutes|    4 minutes    |  2.91 GiB  |
|     nottinghamshire    |   138   |    413,097   | 1,139,096| 298.48 MiB |14 seconds|    8 seconds    | 730.87 MiB |
|         oxford         |    18   |    50,198    |  149,308 |  38.85 MiB | 3 seconds|     1 second    |  91.71 MiB |
|  oxford_cambridge_arc  |   353   |   1,152,245  | 2,823,838| 744.17 MiB |73 seconds|    58 seconds   |  1.51 GiB  |
|       oxfordshire      |    86   |    254,974   |  669,237 | 175.39 MiB | 7 seconds|    3 seconds    | 369.95 MiB |
|         rutland        |    5    |    16,688    |  39,475  |  10.26 MiB | 1 second |     1 second    |  24.30 MiB |
|       shropshire       |    62   |    153,284   |  497,064 | 128.82 MiB | 4 seconds|     1 second    | 197.99 MiB |
|        somerset        |   124   |    384,165   |  944,394 | 248.93 MiB |10 seconds|    5 seconds    | 397.24 MiB |
|     south_yorkshire    |   172   |    358,717   | 1,373,401| 355.62 MiB |18 seconds|    13 seconds   | 735.14 MiB |
|      staffordshire     |   143   |    439,176   | 1,104,925| 289.42 MiB |11 seconds|    5 seconds    | 729.72 MiB |
|         suffolk        |    90   |    326,760   |  739,296 | 194.80 MiB | 7 seconds|    3 seconds    | 388.34 MiB |
|         surrey         |   151   |    461,466   | 1,136,090| 298.39 MiB |15 seconds|    10 seconds   | 733.21 MiB |
|      tyne_and_wear     |   145   |    414,128   | 1,111,239| 290.50 MiB | 9 seconds|    4 seconds    | 728.26 MiB |
|      warwickshire      |   108   |    319,511   |  933,391 | 244.22 MiB |12 seconds|    7 seconds    | 394.89 MiB |
|      west_midlands     |   314   |    523,264   | 2,475,918| 639.43 MiB |29 seconds|    18 seconds   |  1.40 GiB  |
|       west_sussex      |   100   |    373,326   |  838,440 | 221.06 MiB | 8 seconds|    3 seconds    | 393.63 MiB |
|     west_yorkshire     |   299   |    501,156   | 2,272,063| 588.53 MiB |30 seconds|    20 seconds   |  1.39 GiB  |
|        wiltshire       |    89   |    305,679   |  686,963 | 180.19 MiB | 5 seconds|    2 seconds    | 386.05 MiB |
|     worcestershire     |    85   |    254,383   |  572,751 | 151.29 MiB | 6 seconds|    2 seconds    | 366.63 MiB |

Notes:

- `pb_file_size` refers to the size of the uncompressed protobuf file in `data/output/`
- The total `runtime` is usually dominated by matching workers to businesses, so `commuting_runtime` gives a breakdown
- Measuring memory usage of Linux processes isn't straightforward, so `memory_usage` should just be a guide
- These measurements were all taken on one developer's laptop, and they don't represent multiple runs. This table just aims to give a general sense of how long running takes.
- The time doesn't include downloading raw data.
  - That machine has 24 cores, which matters for the parallelized commuting calculation.
- `scripts/collect_stats.py` produces the table above
